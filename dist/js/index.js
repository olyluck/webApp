var app=angular.module("app",["ui.router"]);angular.module("app").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","http://localhost/api/**"])}]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("index",{url:"/home",views:{home:{templateUrl:"../views/home_tpl.html",controller:"HomeController"},author:{template:"<h1>author</h1>"},section:{template:"<h1>section</h1>"},my:{template:"<h1>my</h1>"}}}).state("index.detail",{url:"/detail/:id",template:"<details></details>",controller:"DetailController"}).state("index.list",{url:"/list",templateUrl:"../views/list_tpl.html"}),e.otherwise("home/list")}]),angular.module("app").controller("AppController",["$scope","$window","$location",function(t,e,o){t.appTitle="今日一刻",t.title="首页",t.id=0,t.$on("tab_notification",function(e,o){var l=["首页","作者","栏目","我的"];t.title=l[o.id],t.id=o.id}),t.back=function(){e.history.back()},t.location=o,t.$watch("location.url()",function(e,o){console.log(e);var l=e.toString().indexOf("detail");t.hidde=-1!=l})}]),angular.module("app").controller("DetailController",["$scope","$stateParams",function(t,e){var o=e.id;console.log(o),t.item=t.homeData.posts[o],console.log(t.item)}]),angular.module("app").controller("HomeController",["$scope","xmgHttp",function(t,e){e.jsonp("http://localhost/api/home.php",null,function(e){t.homeData=e.data},function(t){console.log(t)})}]),angular.module("app").controller("TabbarController",["$scope",function(t){t.tabChange=function(e){t.$emit("tab_notification",{id:e})}}]),angular.module("app").directive("details",function(){return{restrict:"EA",replace:"true",template:'<div class="home_detail"></div>',link:function(t,e,o){e.html(t.item.content)}}}),angular.module("app").directive("navs",function(){return{restrict:"EA",replace:!0,templateUrl:"../views/nav_tpl.html",controller:["$scope",function(t){}]}}),angular.module("app").directive("tabbar",function(){return{restrict:"EA",replace:!0,templateUrl:"../views/tabbar_tpl.html",controller:"TabbarController",link:function(t,e,o){t.$watch("id",function(o,l){for(var a=e.children()[0].children,n=0;n<a.length;n++)a[n].className="";a[t.id].className="active"})}}}),angular.module("app").service("xmgHttp",["$http",function(t){this.jsonp=function(e,o,l,a){t({url:e,method:"jsonp",params:o}).then(function(t){l&&l(t)}).catch(function(t){a&&a(t)})},this.getData=function(){},this.postData=function(){}}]);